# 这次分享会介绍一些bash的基础知识，主要因为上次有看到xx在维护的老项目会有用到一些bash脚本来做
自动化的事，但是大家似乎不是很熟悉的样子

# bash算是一门很古老的语言了，可能对大家来说确实没有新框架有吸引力，但是我们日常开发中的一些琐碎
的工作，比如字符串的匹配搜索，文件的移动删除复制，等等，这些工作可能在你的gui工具还没打开的时候
bash就已经帮你处理完成了

# 最先开始介绍一下文件系统内的跳转，这块应该是大家用的最多最熟悉的，pwd 打印当前目录的绝对路径，
cd即change directory 跳转到指定目录，ls即list 列出当前目录的文件，ls的话额外说下比较常用的两个flag
-a 表示显示全部文件包括隐藏文件像。git，-l 表示 显示长long信息，
第一段要分开来看，第一个字母表示文件类型，比如d是目录文件 -是普通文件 l是链接文件等等
以后每三个为一组分别表示 用户 用户组 其他用户 的读取 写入 执行权限
然后是 子目录数 用户名 用户组名 大小 时间

# 然后是对文件的查看, 首先是cat命令，直接查看文件内容，有个比较有用的flag -n ，可以给内容加上行数，
但是cat只适合一些比较短的文件，如果过长的话，可能就没法很好的区分文件内容和你当前的bash内的其他内容，
less命令的话就比较适合对大文件的查看，他会直接进入一个类似vim的查看模式, g 跳转文件开头，shift g跳转
到文件结束，/ 进行搜索。最后就是open命令，可以直接用默认的应用打开对应文件，也可以用 -a flag指定用来打开
的应用，open xxx -a TextEdit

# 创建以及删除文件。touch 新建一个空的文件，然后可以用 echo 命令导入内容， echo 'hello' > a.txt,
当然如果a.txt 如果不存在的话，这条命令就是创建内容为hello的文件a.txt，这样的导入是覆盖式写入，
如果想增量插入内容可以使用, echo 'hi' >> a.txt。 新建文件夹 这个大家都知道是mkdir命令，这里也有一个
比较常用的命令， -p ，mkdir默认是不能生成多层的文件夹比如 a/a/c 这种。删除文件我们用 rm  这是永久性删除
不会把内容移动到回收站中，删除文件夹要用 -r 递归的删除 -f force强制删除 避免输入yes 确认删除

# 删除与复制文件，mv 顾名思义move文件到指定文件夹，当然他还有另一个用途 rename，然后是复制命令 copy
如果想复制文件夹的话就要加上-r

# 文件的查找, find命令，-name 通过名称查找 find . -name *.js, 注意这里的查找是大小写敏感的，如果想忽略大小写
类似正则里 可以加上i参数, -iname, 还记得之前表示文件类型的几个字符吗，这里也可以使用 -type d 表示查找文件夹
当然可以直接对查找到文件进行一些操作，比如 删除 -delete, 或者 -exec 执行你安装的任何软件 想pngquant

# grep 文件内字符串查找, grep 'dev' package.json, 当然也可以通过通配符搜索多个文件 grep dev src/*.js
可以加上-n参数显示所在行 grep -n 'dev' package.json, 可以搜索一个正则通过-e参数，grep -n -e 'con[.]t' src/*.js

# 简单的请求，当然不管前端后端调试接口一般推荐postman这些可视化的工具， 普通的curl baidu.com ，然后可以
通过增加-i 参数获取响应头部参数 curl -i baidu.com. curl 默认不会执行301这样的跳转相应，比如我们的官网，但我们可以增加 -L
参数获取到跳转后的响应， -o 参数可以把响应输出到指定文件，post就不再介绍了，复杂的请求我觉得命令行中调试的效率是非常低的

# 上面都是一些bash的基本知识，然后我们来介绍一些编写bash脚本的基础知识。首先创建一个bash脚本文件 touch a.sh
尝试运行，肯定会有一个报错，使用ls -l 查看发现我们的脚本文件并没有执行权限 ，使用命令 chmod u+x, 意思是给user增加x执行权限
现在我们尝试给脚本增加命令行参数, $1就是第一个参数以此类推
然后让我们来写一个稍微实际点的例子，比如我们要写一个脚本初始化一个js项目
touch init.sh && chmod u+x init.sh

echo "Initialzing js project at $(pwd)"
$() 的意思即执行跨号里的命令并把输出返回给这里

git init
yarn init -Y
mkdir src
touch src/main.js
code .

# 如何使用变量, 声明变量 var=123, 使用时需要加上$修饰符, echo $var, 注意这里的赋值不允许有空格
bash中使用未定义的变量不会有任何错误，仅仅返回空给你，